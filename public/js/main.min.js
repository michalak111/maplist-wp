!function(a,b,c,d){"use strict";function e(){var b=new google.maps.Map(c.getElementById("ml-gmap"),{zoom:10,center:new google.maps.LatLng(49.802609,19.962903),mapTypeId:google.maps.MapTypeId.ROADMAP,mapTypeControl:!1,maxZoom:14}),d=function(b){var c=a(".ml-entry-location").eq(b),d=c.children(".ml-entry-more-details");d.addClass("show-details")},e=function(b){var c=a(".ml-entry-location").eq(b),d=c.children(".ml-entry-more-details");d.removeClass("show-details")},f=[],g=a(".ml-locations .ml-entry-location");g.each(function(c){var e=a(this),g=e.data("lat"),i=e.data("lng");if(g&&i){var j=new google.maps.Marker({position:{lat:parseFloat(g),lng:parseFloat(i)},map:b,icon:"http://maps.google.com/mapfiles/ms/micons/red.png"}).addListener("click",function(){k(a(".ml-entry-location"),!0),h(),this.setIcon("http://maps.google.com/mapfiles/ms/micons/green.png"),d(c)});f.push(j)}});var h=function(){for(var a=0;a<f.length;a++)console.log(f[a].Ia),f[a].Ia.setIcon("http://maps.google.com/mapfiles/ms/micons/red.png")},i=a(".ml-gotolist");i.on("click",function(){var b=a(this),c=a(".ml-location-list");c.toggleClass("list-active"),c.hasClass("list-active")?b.text("Schowaj liste"):b.text("PokaÅ¼ liste")}),a(".ml-show-location-details").on("click",function(){var b=a(this),c=b.next(),f=b.closest(".ml-entry-location"),g=a(".ml-entry-location");if(c.hasClass("show-details"))e(f.index());else{d(f.index());for(var h=0;h<g.length;h++)h!==f.index()&&e(h)}});var j=function(a,c){var d=a.data("lat"),e=a.data("lng");c?(b.setCenter({lat:parseFloat(d),lng:parseFloat(e)}),b.setZoom(20)):(b.setCenter({lat:parseFloat(d),lng:parseFloat(e)}),b.setZoom(13))},k=function(c,d){h(),c.each(function(b){e(b),a(this).hasClass("selected-region")&&!d&&a(this).removeClass("selected-region")}),d||(b.setCenter({lat:parseFloat(49.802609),lng:parseFloat(19.962903)}),b.setZoom(10))},l=a("#ml-location-region");l.on("change",function(){var b=a(this),c=b.val(),d=a(".ml-locations"),e=a(".ml-entry-location");""!==a("#ml-search-locations").val()&&a("#ml-search-locations").val(""),"All"===c?d.hasClass("region-selections-active")&&d.removeClass("region-selections-active"):d.hasClass("region-selections-active")||d.addClass("region-selections-active");var f=function(){"All"!==c&&(e.each(function(){var b=a(this);b.data("cat")===c&&b.addClass("selected-region")}),j(a(".selected-region").eq(0)))};k(e),f()});var m=function(b){var c=a(".ml-locations"),d=a(".ml-entry-location"),e=d.eq(b);k(d),c.hasClass("region-selections-active")||c.addClass("region-selections-active"),e.addClass("selected-region"),j(e,!0)},n=function(){var b=[];return g.each(function(){var c=a(this),d=c.data("place"),e=c.data("cat");b.push(d+", "+e)}),b};a("#ml-search-locations").autocomplete({lookup:n(),paramName:"searchString",onSelect:function(b){var c=n().indexOf(b.value);m(c),d(c),h(),f[c].Ia.setIcon("http://maps.google.com/mapfiles/ms/micons/green.png"),a("#ml-location-region").val("All")},onHide:function(){""===a(this).val()&&(k(a(".ml-entry-location")),a(".ml-locations").hasClass("region-selections-active")&&a(".ml-locations").removeClass("region-selections-active"))}})}function f(){a(".ml-entry-gallery").featherlightGallery({previousIcon:"&#9664;",nextIcon:"&#9654;",galleryFadeIn:100,galleryFadeOut:300})}a(c).ready(function(){e(),f()}),a(b).on("scroll",function(){}),a(b).on("load",function(){a(b).trigger("scroll").trigger("resize")}),a(b).on("resize orientationchange",function(){})}(jQuery,window,document);